<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Warm Starting Optimization • mlrMBO</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<link href="../../extra.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Warm Starting Optimization">
<meta property="og:description" content="mlrMBO">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://mlr-org.com"><img src="https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png" id="hexlogo" alt="mlr-org"></a>
        <a class="navbar-brand" href="../../index.html">mlrMBO <small>v1.1.5-9000</small></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../../articles/mlrMBO.html">
    <span class="fa fa-bolt"></span>
     
    Quickstart
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-file-text-o"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/supplementary/mixed_space_optimization.html">Mixed Space Optimization</a>
    </li>
    <li>
      <a href="../../articles/supplementary/parallelization.html">Parallelization</a>
    </li>
    <li>
      <a href="../../articles/supplementary/noisy_optimization.html">Noisy Optimization</a>
    </li>
    <li>
      <a href="../../articles/supplementary/infill_criteria.html">Infill Criteria</a>
    </li>
    <li>
      <a href="../../articles/supplementary/machine_learning_with_mlrmbo.html">Machine learning with mlrMBO</a>
    </li>
    <li>
      <a href="../../articles/supplementary/human_in_the_loop_MBO.html">Human-in-the-loop MBO</a>
    </li>
    <li>
      <a href="../../articles/supplementary/mlrmbo_and_the_command_line.html">mlrMBO and the Command Line</a>
    </li>
    <li>
      <a href="../../articles/supplementary/adaptive_infill_criteria.html">Adaptive Infill Criteria</a>
    </li>
    <li>
      <a href="../../articles/supplementary/warmstart.html">Warm Starting Optimization</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa-comments"></span>
     
  </a>
</li>
        <li>
  <a href="https://github.com/mlr-org/mlrMBO/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fab fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="warmstart_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Warm Starting Optimization</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlrMBO/blob/master/vignettes/supplementary/warmstart.Rmd"><code>vignettes/supplementary/warmstart.Rmd</code></a></small>
      <div class="hidden name"><code>warmstart.Rmd</code></div>

    </div>

    
    
<div id="purpose" class="section level2">
<h2 class="hasAnchor">
<a href="#purpose" class="anchor"></a>Purpose</h2>
<p>This Vignette will give you a short overview on how to warm-start your optimization. It will consider three kinds of warm starting. First, you can warm-start your optimization on any pre-evaluated design. Second, you can continue optimizing a terminated optimization. Third, you can continue any failed optimization if you took the right precautions.</p>
<div id="prerequisites" class="section level3">
<h3 class="hasAnchor">
<a href="#prerequisites" class="anchor"></a>Prerequisites</h3>
<p>First, we will construct our problem that will be used for the following examples</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mlr-org/mlrMBO">mlrMBO</a></span><span class="op">)</span>
<span class="va">obj.fun</span> <span class="op">=</span> <span class="fu">makeSixHumpCamelFunction</span><span class="op">(</span><span class="op">)</span>
<span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="va">obj.fun</span>, render.levels <span class="op">=</span> <span class="cn">TRUE</span>, show.optimum <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="warmstart_files/figure-html/load_package-1.png" width="700"></p>
</div>
<div id="warm-start-on-a-design" class="section level3">
<h3 class="hasAnchor">
<a href="#warm-start-on-a-design" class="anchor"></a>Warm Start on a Design</h3>
<p>First we create the pre-evaluated design.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">design</span> <span class="op">=</span> <span class="fu">generateGridDesign</span><span class="op">(</span><span class="fu"><a href="https://mlr.mlr-org.com/reference/getParamSet.html">getParamSet</a></span><span class="op">(</span><span class="va">obj.fun</span><span class="op">)</span>, resolution <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="va">design</span><span class="op">$</span><span class="va">y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">design</span>, <span class="fl">1</span>, <span class="va">obj.fun</span><span class="op">)</span>
<span class="va">design</span>
<span class="co">##   x1 x2     y</span>
<span class="co">## 1 -3 -2 162.9</span>
<span class="co">## 2  0 -2  48.0</span>
<span class="co">## 3  3 -2 150.9</span>
<span class="co">## 4 -3  0 108.9</span>
<span class="co">## 5  0  0   0.0</span>
<span class="co">## 6  3  0 108.9</span>
<span class="co">## 7 -3  2 150.9</span>
<span class="co">## 8  0  2  48.0</span>
<span class="co">## 9  3  2 162.9</span></code></pre></div>
<p>Now we define out MBO Settings.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ctrl</span> <span class="op">=</span> <span class="fu"><a href="../../reference/makeMBOControl.html">makeMBOControl</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">ctrl</span> <span class="op">=</span> <span class="fu"><a href="../../reference/setMBOControlInfill.html">setMBOControlInfill</a></span><span class="op">(</span><span class="va">ctrl</span>, <span class="va">crit.ei</span><span class="op">)</span>
<span class="va">ctrl</span> <span class="op">=</span> <span class="fu"><a href="../../reference/setMBOControlTermination.html">setMBOControlTermination</a></span><span class="op">(</span><span class="va">ctrl</span>, iters <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></code></pre></div>
<p>To warm start the Bayesian optimization we simply call <code><a href="../../reference/mbo.html">mbo()</a></code> and pass the pre-evaluated design.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">res</span> <span class="op">=</span> <span class="fu"><a href="../../reference/mbo.html">mbo</a></span><span class="op">(</span><span class="va">obj.fun</span>, design <span class="op">=</span> <span class="va">design</span>, control <span class="op">=</span> <span class="va">ctrl</span><span class="op">)</span>
<span class="co">## [mbo] 1: x=-0.545,0.0432 : y = 0.98 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 2: x=-0.258,-0.288 : y = 0.0265 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 3: x=-0.245,0.0395 : y = 0.217 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 4: x=-0.0719,0.56 : y = -0.88 : 0.0 secs : infill_ei</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">final.opt.state</span>, scale.panels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="warmstart_files/figure-html/design_start-1.png" width="700"></p>
</div>
<div id="continue-a-terminated-optimization" class="section level3">
<h3 class="hasAnchor">
<a href="#continue-a-terminated-optimization" class="anchor"></a>Continue a Terminated Optimization</h3>
<p>Now, we will continue our above optimization. Here we have two options. First, we can convert the <code>opt.path</code> from the result to a <code>data.frame</code>, which will then serve as the pre-evaluated design. This pre-evaluated design can be passed to <code><a href="../../reference/mbo.html">mbo()</a></code> just as in the previous example.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">op</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">opt.path</span><span class="op">)</span>
<span class="va">design</span> <span class="op">=</span> <span class="va">op</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">]</span>
<span class="va">res2</span> <span class="op">=</span> <span class="fu"><a href="../../reference/mbo.html">mbo</a></span><span class="op">(</span><span class="va">obj.fun</span>, design <span class="op">=</span> <span class="va">design</span>, control <span class="op">=</span> <span class="va">ctrl</span><span class="op">)</span>
<span class="co">## [mbo] 1: x=0.413,0.419 : y = 0.217 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 2: x=0.0628,0.387 : y = -0.47 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 3: x=-0.397,0.534 : y = -0.447 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 4: x=0.204,0.597 : y = -0.632 : 0.0 secs : infill_ei</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">res2</span><span class="op">$</span><span class="va">final.opt.state</span>, scale.panels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="warmstart_files/figure-html/res_to_design-1.png" width="700"></p>
<p>Second, we can use <code><a href="../../reference/mboContinue.html">mboContinue()</a></code> on the <code>final.opt.state</code>. In this case we have to change the state of the <code>opt.state</code> object from <code>"term.iter"</code> to <code>"iter"</code> so MBO does not assume the optimization is already terminated. Furthermore we have to redefine the termination criterion to 8 because we want run 4 further iterations from the 4 we already did in the beginning.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">opt.state</span> <span class="op">=</span> <span class="va">res</span><span class="op">$</span><span class="va">final.opt.state</span>
<span class="va">opt.state</span><span class="op">$</span><span class="va">opt.problem</span><span class="op">$</span><span class="va">control</span> <span class="op">=</span> <span class="fu"><a href="../../reference/setMBOControlTermination.html">setMBOControlTermination</a></span><span class="op">(</span><span class="va">opt.state</span><span class="op">$</span><span class="va">opt.problem</span><span class="op">$</span><span class="va">control</span>, iters <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>
<span class="va">opt.state</span><span class="op">$</span><span class="va">state</span> <span class="op">=</span> <span class="st">"iter"</span>
<span class="va">res3</span> <span class="op">=</span> <span class="fu"><a href="../../reference/mboContinue.html">mboContinue</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">final.opt.state</span><span class="op">)</span>
<span class="co">## [mbo] 5: x=-0.0742,0.38 : y = -0.501 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 6: x=0.453,0.525 : y = 0.176 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 7: x=0.197,0.523 : y = -0.541 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 8: x=-0.392,0.537 : y = -0.464 : 0.0 secs : infill_ei</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">res3</span><span class="op">$</span><span class="va">final.opt.state</span>, scale.panels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="warmstart_files/figure-html/mbocontinue_optstate-1.png" width="700"></p>
<p>The first approach has the advantage that it is more transparent. Also you have to pass an <code>MBOControl</code> object which gives you an easy ability to refine your MBO settings for the further iterations. The second approach is a bit more <em>hacky</em> but has the advantage that you do not have to construct the design from the <code>opt.path</code>.</p>
</div>
<div id="continue-a-failed-optimization" class="section level3">
<h3 class="hasAnchor">
<a href="#continue-a-failed-optimization" class="anchor"></a>Continue a Failed Optimization</h3>
<p>If you run long MBO optimization tasks it is especially frustrating if some part crashes and your optimization progress is gone. Luckily MBO has the capabilities to continue failed optimization runs if you configure the <code>MBOControl</code> object right.</p>
<p>But first, for this example we have to construct a function that fails. This function will throw an error the 12th time it is called.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">counter</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">f</span> <span class="op">=</span> <span class="fu">makeSingleObjectiveFunction</span><span class="op">(</span>
  fn <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">counter</span> <span class="op">&lt;&lt;-</span> <span class="va">counter</span> <span class="op">+</span> <span class="fl">1</span>
    <span class="kw">if</span> <span class="op">(</span><span class="va">counter</span> <span class="op">==</span> <span class="fl">12L</span><span class="op">)</span>
      <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"fail"</span><span class="op">)</span>
    <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span>
  <span class="op">}</span>,
  par.set <span class="op">=</span> <span class="fu">makeNumericParamSet</span><span class="op">(</span>len <span class="op">=</span> <span class="fl">2L</span>, lower <span class="op">=</span> <span class="op">-</span><span class="fl">2</span>, upper <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>To be able to continue a failed optimization run we have to set <code>save.on.disk.at.time</code> or <code>save.on.disk.at</code>. The first defines a time frame that has to pass until the current state is saved to disk again (e.g. all 30 seconds). The second defines a vector of iterations, when to save the current state to disk (e.g. <code><a href="https://rdrr.io/r/base/c.html">c(10,20,30)</a></code>). Additionally you can set the location where the state is saved with <code>save.file.path</code>. It defaults to <code>getwd()/mlrMBO_run.RData</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ctrl</span> <span class="op">=</span> <span class="fu"><a href="../../reference/makeMBOControl.html">makeMBOControl</a></span><span class="op">(</span>save.on.disk.at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="va">ctrl</span> <span class="op">=</span> <span class="fu"><a href="../../reference/setMBOControlInfill.html">setMBOControlInfill</a></span><span class="op">(</span><span class="va">ctrl</span>, <span class="va">crit.ei</span><span class="op">)</span>
<span class="va">ctrl</span> <span class="op">=</span> <span class="fu"><a href="../../reference/setMBOControlTermination.html">setMBOControlTermination</a></span><span class="op">(</span><span class="va">ctrl</span>, iters <span class="op">=</span> <span class="fl">8L</span><span class="op">)</span>
<span class="va">or</span> <span class="op">=</span> <span class="fu"><a href="../../reference/mbo.html">mbo</a></span><span class="op">(</span><span class="va">f</span>, control <span class="op">=</span> <span class="va">ctrl</span><span class="op">)</span>
<span class="co">## Computing y column(s) for design. Not provided.</span>
<span class="co">## [mbo] 0: x=-0.587,-0.903 : y = 1.16 : 0.0 secs : initdesign</span>
<span class="co">## [mbo] 0: x=0.303,-0.37 : y = 0.229 : 0.0 secs : initdesign</span>
<span class="co">## [mbo] 0: x=-1.08,0.621 : y = 1.55 : 0.0 secs : initdesign</span>
<span class="co">## [mbo] 0: x=-1.74,0.151 : y = 3.03 : 0.0 secs : initdesign</span>
<span class="co">## [mbo] 0: x=0.17,-1.45 : y = 2.14 : 0.0 secs : initdesign</span>
<span class="co">## [mbo] 0: x=0.732,-0.79 : y = 1.16 : 0.0 secs : initdesign</span>
<span class="co">## [mbo] 0: x=-1.59,-1.76 : y = 5.64 : 0.0 secs : initdesign</span>
<span class="co">## [mbo] 0: x=-0.298,0.928 : y = 0.949 : 0.0 secs : initdesign</span>
<span class="co">## [mbo] 1: x=-0.134,-0.108 : y = 0.0295 : 0.0 secs : infill_ei</span>
<span class="co">## Saved the current state after iteration 2 in the file /Users/runner/work/mlrMBO/mlrMBO/vignettes/supplementary/mlrMBO_run.RData.</span>
<span class="co">## [mbo] 2: x=0.12,0.131 : y = 0.0315 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 3: x=0.0353,-0.0343 : y = 0.00242 : 0.0 secs : infill_ei</span>
<span class="co">## Saved the current state after iteration 4 in the file /Users/runner/work/mlrMBO/mlrMBO/vignettes/supplementary/mlrMBO_run.RData.</span>
<span class="co">## Error in fn(unlist(x), ...): fail</span></code></pre></div>
<p>As expected the process failed. Luckily we can use the saved <code>opt.state</code> to continue the optimization.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">counter</span> <span class="op">=</span> <span class="fl">13</span> <span class="co"># set counter to not trigger the error</span>
<span class="va">or</span> <span class="op">=</span> <span class="fu"><a href="../../reference/mboContinue.html">mboContinue</a></span><span class="op">(</span><span class="st">"mlrMBO_run.RData"</span><span class="op">)</span>
<span class="co">## [mbo] 4: x=-0.0394,0.0483 : y = 0.00389 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 5: x=-0.339,0.0209 : y = 0.115 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 6: x=0.00141,-0.168 : y = 0.0283 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 7: x=-0.00765,-0.... : y = 6.45e-05 : 0.0 secs : infill_ei</span>
<span class="co">## [mbo] 8: x=0.0729,0.0184 : y = 0.00566 : 0.0 secs : infill_ei</span>
<span class="fu"><a href="https://rdrr.io/r/base/files.html">file.remove</a></span><span class="op">(</span><span class="st">"mlrMBO_run.RData"</span><span class="op">)</span> <span class="co"># remove the saved state</span>
<span class="co">## [1] TRUE</span></code></pre></div>
<p><em>Note:</em> It is possible to continue an optimization that was saved to disk and terminated using the same approach as in the previous chapter. You can access the <code>opt.state</code> by calling <code><a href="https://rdrr.io/r/base/load.html">load("mlrMBO_run.RData")</a></code>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Bernd Bischl, Jakob Richter, Jakob Bossek, Daniel Horn, Michel Lang, Janek Thomas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
